{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducer\";\nimport { fetchRestaurants, fetchRestaurantsError } from \"./reducer\";\nimport axios from \"axios\";\nimport { CREATE_ROUTE, REQUEST_RESULTS_LIMIT, USER_DEFAULT_LOCATION } from \"../Consts\";\nexport const getRestaurants = (location, category) => {\n  return async dispatch => {\n    if (!location && !category) {\n      dispatch(fetchRestaurants([]));\n    }\n\n    const URL = \"restaurants/\".concat(REQUEST_RESULTS_LIMIT);\n\n    if (location) {\n      URL = URL + \"/\".concat(location, \"/null\");\n    } else if (category) {\n      URL = URL + \"/\".concat(USER_DEFAULT_LOCATION, \"/\").concat(category);\n    }\n\n    axios.get(CREATE_ROUTE(URL)).then(response => {\n      console.log(response);\n      dispatch(fetchRestaurants(response.data.data));\n    }).catch(error => {\n      dispatch(fetchRestaurantsError(error));\n    });\n  };\n};\nexport default createStore(reducer, applyMiddleware(thunk));","map":{"version":3,"sources":["/Users/francopagella/Desktop/code/interview/financial education/src/redux/store.js"],"names":["createStore","applyMiddleware","thunk","reducer","fetchRestaurants","fetchRestaurantsError","axios","CREATE_ROUTE","REQUEST_RESULTS_LIMIT","USER_DEFAULT_LOCATION","getRestaurants","location","category","dispatch","URL","get","then","response","console","log","data","catch","error"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,gBAAT,EAA2BC,qBAA3B,QAAwD,WAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,qBAAvB,EAA8CC,qBAA9C,QAA2E,WAA3E;AAEA,OAAO,MAAMC,cAAc,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACpD,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAG,CAACF,QAAD,IAAa,CAACC,QAAjB,EAA0B;AACxBC,MAAAA,QAAQ,CAACT,gBAAgB,CAAC,EAAD,CAAjB,CAAR;AACD;;AACD,UAAMU,GAAG,yBAAkBN,qBAAlB,CAAT;;AACA,QAAIG,QAAJ,EAAa;AACXG,MAAAA,GAAG,GAAGA,GAAG,cAAOH,QAAP,UAAT;AACD,KAFD,MAGK,IAAGC,QAAH,EAAY;AACfE,MAAAA,GAAG,GAAGA,GAAG,cAAOL,qBAAP,cAAgCG,QAAhC,CAAT;AACD;;AACDN,IAAAA,KAAK,CACJS,GADD,CACKR,YAAY,CAACO,GAAD,CADjB,EAECE,IAFD,CAEOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAJ,MAAAA,QAAQ,CAACT,gBAAgB,CAACa,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAAjB,CAAR;AACD,KALD,EAMCC,KAND,CAMQC,KAAD,IAAW;AAChBT,MAAAA,QAAQ,CAACR,qBAAqB,CAACiB,KAAD,CAAtB,CAAR;AACD,KARD;AASH,GApBC;AAqBD,CAtBM;AAyBP,eAAetB,WAAW,CAACG,OAAD,EAAUF,eAAe,CAACC,KAAD,CAAzB,CAA1B","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducer\";\nimport { fetchRestaurants, fetchRestaurantsError } from \"./reducer\";\nimport axios from \"axios\";\nimport { CREATE_ROUTE, REQUEST_RESULTS_LIMIT, USER_DEFAULT_LOCATION } from \"../Consts\";\n\nexport const getRestaurants = (location, category) => {\n  return async (dispatch) => {\n    if(!location && !category){\n      dispatch(fetchRestaurants([]));\n    }\n    const URL = `restaurants/${REQUEST_RESULTS_LIMIT}`\n    if (location){\n      URL = URL + `/${location}/null`\n    }\n    else if(category){\n      URL = URL + `/${USER_DEFAULT_LOCATION}/${category}`\n    }\n    axios\n    .get(CREATE_ROUTE(URL))\n    .then((response) => {\n      console.log(response)\n      dispatch(fetchRestaurants(response.data.data));\n    })\n    .catch((error) => {\n      dispatch(fetchRestaurantsError(error));\n    });\n};\n};\n\n\nexport default createStore(reducer, applyMiddleware(thunk));\n"]},"metadata":{},"sourceType":"module"}